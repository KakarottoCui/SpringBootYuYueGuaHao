<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.singulee.carschool.pojo.TeacherMapper">
    <resultMap id="BaseResultMap" type="com.singulee.carschool.pojo.Teacher">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="teaId" jdbcType="INTEGER" property="teaid"/>
        <result column="teaName" jdbcType="VARCHAR" property="teaname"/>
        <result column="teaPhone" jdbcType="VARCHAR" property="teaphone"/>
        <result column="teaPwd" jdbcType="VARCHAR" property="teapwd"/>
        <result column="teaSex" jdbcType="VARCHAR" property="teasex"/>
        <result column="teaSta" jdbcType="VARCHAR" property="teasta"/>
        <result column="teaRole" jdbcType="INTEGER" property="tearole"/>
        <result column="teaDriver" jdbcType="VARCHAR" property="teadriver"/>
        <result column="teaStartDate" jdbcType="DATE" property="teastartdate"/>
        <result column="teaEndDate" jdbcType="DATE" property="teaenddate"/>
        <result column="teaBirth" jdbcType="DATE" property="teabirth"/>
        <result column="teaDescript" jdbcType="VARCHAR" property="teadescript"/>
        <result column="teaImg" jdbcType="VARCHAR" property="teaimg"/>
        <result column="extend1" jdbcType="VARCHAR" property="extend1"/>
        <result column="exten2" jdbcType="VARCHAR" property="exten2"/>
    </resultMap>

    <!--通过电话查找-->
    <select id="selectByPhone" parameterType="com.singulee.carschool.pojo.Teacher" resultType="com.singulee.carschool.pojo.Teacher">
    select * from teacher where teaPhone=#{teaphone} and teaRole=#{tearole} and teaEndDate is  null
  </select>

    <!--修改密码-->
    <update id="updatePassword" parameterType="com.singulee.carschool.pojo.Teacher">
        update teacher set  teaPwd=#{teapwd} where teaPhone=#{teaphone} and teaRole=#{tearole}
    </update>
    <!--多条件-->
    <select id="selectTeacherByCondiction" parameterType="map" resultType="Map">
        select
        t.teaId,
        t.teaName,
        t.teaPhone,
        t.teaSex,
        t.teaSta,
        t.teaRole,
        t.teaDriver,
        t.teaStartDate,
        t.teaEndDate,
        t.teaBirth,
        t.teaDescript,
        t.teaImg,
        t.extend1,
        t.exten2
        from teacher t
        where 1=1
        <if test="teaname!=null and teaname!=''">
            and teaName like concat('%',#{teaname},'%')
        </if>


    </select>

    <select id="selectByTeaId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    select 
    *
    from teacher
    where teaId = #{teaid,jdbcType=INTEGER}
  </select>
    <!--添加-->
    <insert id="insert" parameterType="com.singulee.carschool.pojo.Teacher">

    insert into teacher (teaId, teaName, teaPhone, 
      teaPwd, teaSex, teaSta, 
      teaRole, teaDriver, teaStartDate, 
      teaEndDate, teaBirth, teaDescript, 
      teaImg, extend1, exten2
      )
    values (#{teaid,jdbcType=INTEGER}, #{teaname,jdbcType=VARCHAR}, #{teaphone,jdbcType=VARCHAR}, 
      #{teapwd,jdbcType=VARCHAR}, #{teasex,jdbcType=VARCHAR}, #{teasta,jdbcType=VARCHAR}, 
      #{tearole,jdbcType=INTEGER}, #{teadriver,jdbcType=VARCHAR}, #{teastartdate,jdbcType=DATE}, 
      #{teaenddate,jdbcType=DATE}, #{teabirth,jdbcType=DATE}, #{teadescript,jdbcType=VARCHAR}, 
      #{teaimg,jdbcType=VARCHAR}, #{extend1,jdbcType=VARCHAR}, #{exten2,jdbcType=VARCHAR}
      )
  </insert>

    <insert id="insertSelective" parameterType="com.singulee.carschool.pojo.Teacher">

        insert into teacher
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="teaid != null">
                teaId,
            </if>
            <if test="teaname != null">
                teaName,
            </if>
            <if test="teaphone != null">
                teaPhone,
            </if>
            <if test="teapwd != null">
                teaPwd,
            </if>
            <if test="teasex != null">
                teaSex,
            </if>
            <if test="teasta != null">
                teaSta,
            </if>
            <if test="tearole != null">
                teaRole,
            </if>
            <if test="teadriver != null">
                teaDriver,
            </if>
            <if test="teastartdate != null">
                teaStartDate,
            </if>
            <if test="teaenddate != null">
                teaEndDate,
            </if>
            <if test="teabirth != null">
                teaBirth,
            </if>
            <if test="teadescript != null">
                teaDescript,
            </if>
            <if test="teaimg != null">
                teaImg,
            </if>
            <if test="extend1 != null">
                extend1,
            </if>
            <if test="exten2 != null">
                exten2,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="teaid != null">
                #{teaid,jdbcType=INTEGER},
            </if>
            <if test="teaname != null">
                #{teaname,jdbcType=VARCHAR},
            </if>
            <if test="teaphone != null">
                #{teaphone,jdbcType=VARCHAR},
            </if>
            <if test="teapwd != null">
                #{teapwd,jdbcType=VARCHAR},
            </if>
            <if test="teasex != null">
                #{teasex,jdbcType=VARCHAR},
            </if>
            <if test="teasta != null">
                #{teasta,jdbcType=VARCHAR},
            </if>
            <if test="tearole != null">
                #{tearole,jdbcType=INTEGER},
            </if>
            <if test="teadriver != null">
                #{teadriver,jdbcType=VARCHAR},
            </if>
            <if test="teastartdate != null">
                #{teastartdate,jdbcType=DATE},
            </if>
            <if test="teaenddate != null">
                #{teaenddate,jdbcType=DATE},
            </if>
            <if test="teabirth != null">
                #{teabirth,jdbcType=DATE},
            </if>
            <if test="teadescript != null">
                #{teadescript,jdbcType=VARCHAR},
            </if>
            <if test="teaimg != null">
                #{teaimg,jdbcType=VARCHAR},
            </if>
            <if test="extend1 != null">
                #{extend1,jdbcType=VARCHAR},
            </if>
            <if test="exten2 != null">
                #{exten2,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>
    <!--修改-->
    <update id="update" parameterType="com.singulee.carschool.pojo.Teacher">
        update teacher
        <set>
            <if test="teaname != null">
                teaName = #{teaname,jdbcType=VARCHAR},
            </if>
            <if test="teaphone != null">
                teaPhone = #{teaphone,jdbcType=VARCHAR},
            </if>
            <if test="teapwd != null">
                teaPwd = #{teapwd,jdbcType=VARCHAR},
            </if>
            <if test="teasex != null">
                teaSex = #{teasex,jdbcType=VARCHAR},
            </if>
            <if test="teasta != null">
                teaSta = #{teasta,jdbcType=VARCHAR},
            </if>
            <if test="tearole != null">
                teaRole = #{tearole,jdbcType=INTEGER},
            </if>
            <if test="teadriver != null">
                teaDriver = #{teadriver,jdbcType=VARCHAR},
            </if>
            <if test="teastartdate != null">
                teaStartDate = #{teastartdate,jdbcType=DATE},
            </if>
            <if test="teaenddate != null">
                teaEndDate = #{teaenddate,jdbcType=DATE},
            </if>
            <if test="teabirth != null">
                teaBirth = #{teabirth,jdbcType=DATE},
            </if>
            <if test="teadescript != null">
                teaDescript = #{teadescript,jdbcType=VARCHAR},
            </if>
            <if test="teaimg != null">
                teaImg = #{teaimg,jdbcType=VARCHAR},
            </if>
            <if test="extend1 != null">
                extend1 = #{extend1,jdbcType=VARCHAR},
            </if>
            <if test="exten2 != null">
                exten2 = #{exten2,jdbcType=VARCHAR},
            </if>
        </set>
        where teaId = #{teaid,jdbcType=INTEGER}
    </update>

    <update id="updateByPrimaryKey" parameterType="com.singulee.carschool.pojo.Teacher">
    update teacher
    set teaName = #{teaname,jdbcType=VARCHAR},
      teaPhone = #{teaphone,jdbcType=VARCHAR},
      teaPwd = #{teapwd,jdbcType=VARCHAR},
      teaSex = #{teasex,jdbcType=VARCHAR},
      teaSta = #{teasta,jdbcType=VARCHAR},
      teaRole = #{tearole,jdbcType=INTEGER},
      teaDriver = #{teadriver,jdbcType=VARCHAR},
      teaStartDate = #{teastartdate,jdbcType=DATE},
      teaEndDate = #{teaenddate,jdbcType=DATE},
      teaBirth = #{teabirth,jdbcType=DATE},
      teaDescript = #{teadescript,jdbcType=VARCHAR},
      teaImg = #{teaimg,jdbcType=VARCHAR},
      extend1 = #{extend1,jdbcType=VARCHAR},
      exten2 = #{exten2,jdbcType=VARCHAR}
    where teaId = #{teaid,jdbcType=INTEGER}
  </update>
</mapper>